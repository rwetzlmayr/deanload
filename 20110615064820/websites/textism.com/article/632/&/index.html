<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Textism: Bigsmallbig</title> 
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="/common/css.css" type="text/css" />
	<link rel="alternate" type="application/rss+xml" title="RSS" href="http://textism.com/?rss=1" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="http://textism.com/?atom=1" />
</head>
<body>
<div id="container">
<div id="head"><a href="/" onfocus="if(this.blur)this.blur()"><img src="/common/pear2.gif" style="height:142px;width:500px;border:0" alt="Textism" /></a></div>
<div id="left">
		<p>&nbsp;</p>
</div>
<div id="right">
		<p><span class="caps">AUTHOR</span><br />
			<a href="/about/" title="About the author">Dean Allen</a></p>
		<p><span class="caps">OCCUPATION</span><br />
			Industrialist</p>
		<p><span class="caps">LOCATION</span><br />
			Bagnols <sup>s</sup>/C&#232;ze, France</p>
		<p><span class="caps">CONTACT</span><br />
			From <a href="/contact/" title="send a message via this web site">here</a> or <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#101;&#97;&#110;&#64;&#116;&#101;&#120;&#116;&#105;&#115;&#109;&#46;&#99;&#111;&#109;" title="send a message via your email application">there</a></p>
		<form action="http://textism.com/" method="get"><p>Search<br /><input type="text" name="q" value="" size="15" /></p></form>
		<form action="http://textism.com/" method="get">
<p>Browse<br /><select name="c" onchange="submit(this.form)">
	<option value=""></option>
		<option value="Advertised+Life">Advertised Life</option>
		<option value="Announcements">Announcements</option>
		<option value="Books+%26+Reading">Books & Reading</option>
		<option value="Cupertino">Cupertino</option>
		<option value="Design+is+Business">Design is Business</option>
		<option value="Dull+White+Men">Dull White Men</option>
		<option value="Elsewhere">Elsewhere</option>
		<option value="Food">Food</option>
		<option value="France">France</option>
		<option value="Gardening">Gardening</option>
		<option value="Google">Google</option>
		<option value="Hacks">Hacks</option>
		<option value="Herself">Herself</option>
		<option value="How+To">How To</option>
		<option value="Irritation">Irritation</option>
		<option value="Laffs">Laffs</option>
		<option value="Memoir">Memoir</option>
		<option value="Microsoft">Microsoft</option>
		<option value="Movies">Movies</option>
		<option value="Music">Music</option>
		<option value="Oliver">Oliver</option>
		<option value="Other+People">Other People</option>
		<option value="Photographs">Photographs</option>
		<option value="Published+Web">Published Web</option>
		<option value="Questions">Questions</option>
		<option value="Rock+Gods">Rock Gods</option>
		<option value="Scripting">Scripting</option>
		<option value="Shopping">Shopping</option>
		<option value="Stories">Stories</option>
		<option value="Teaching">Teaching</option>
		<option value="Text+Wrangling">Text Wrangling</option>
		<option value="The+Move">The Move</option>
		<option value="Typography">Typography</option>
		<option value="Verisign">Verisign</option>
		<option value="Web+Economy">Web Economy</option>
</select></p><noscript><input type="submit" value="go" /></noscript></form>
</div>
<div id="center">
	<h3><a href="http://textism.com/article/632/bigsmallbig" title="Permanent link to this article">Bigsmallbig</a> &#183; 21 November 2002</h3>
	<p>Thanks in part to a nudge from <a href="http://diveintomark.org/archives/2002/11/21.html#a_warning_to_others">Mark Pilgrim</a>, <s style="color:gray">and in part to a smart little <a href="http://leknor.com/code/php/class.gzip_encode.php.txt"><span class="caps">PHP</span> class</a> (long since <a href="http://leknor.com/discuss/read.php?f=5&#38;i=114&#38;t=111&#38;v=t">disowned</a> by its author)</s> [see below], the documents on this site are now served gzip compressed (at sizes reduced as much as 75%) to browsers which can handle such data, which I believe is most, though I&#8217;m not sure, but I&#8217;m fairly sure that browsers which cannot handle such data are sent a plain uncompressed file. I would ask for reports of decompression errors, but if there were any decompression errors the request wouldn&#8217;t be visible; such is the nature of compression. If you can read this it works.</p>
 
<p>
<span class="caps">UPDATE</span>: Anyone with a recent version of <span class="caps">PHP</span> (4.1+) running on their server can easily take advantage of this. Benefits are greatly reduced bandwidth consumption and a much speedier site, especially for readers using modems.</p>

<p>Simply place the following snippet at the very first line of <span class="caps">PHP</span>-aware web pages, before <code>&#60;html&#62;</code>:
</p>

<blockquote><code>&#60;?php ob_start("ob_gzhandler"); ?&#62;</code>
</blockquote>

<p>
And that&#8217;s it. Test <a href="http://leknor.com/code/gziped.php">here</a>.</p>

<p>Potential problems and solutions:</p>

<ul type="circle">
	<li>If compression is failing and you can see the code snippet when you View Source on your page, the page is not <span class="caps">PHP</span>-aware. Create a text file in your web directory called <code>.htaccess</code> (if one exists already, open it) and paste the following inside it: <br /><code>AddType application/x-httpd-php .html .htm</code></li>
	<li>If compression is failing and you <em>can&#8217;t</em> see the code snippet when you View Source, chances are your server&#8217;s version of <span class="caps">PHP</span> was compiled without the gzip library. Confirm this with your server admin.</li>
<li>If you get the error message <code>"output handler 'ob_gzhandler' cannot be used twice"</code>, your pages are already being compressed. Felicitations.</li>
<li>If you get an error message like <code> "headers already sent"</code>, make sure the snippet is at the very beginning of the page, before anything else.</li>
</ul>

<p style="text-align:center">* &nbsp; * &nbsp; *</p>

<p class="nav"><a href="http://textism.com/article/631/placing">&#8592; Placing | </a>
<a href="http://textism.com/">Home</a>
<a href="http://textism.com/article/633/one-story"> | One Story &#8594;</a>
</p>
</div>
<div id="foot">&nbsp;</div>
</div>
</body>
</html>